<udebs>

<name>World MAP</name>
<!-- definitions -->
<definitions>

    <stats>
        <item>ACT</item>
        <item>SPD</item>
        <item>LVL</item>
    </stats>

    <strings>
        <item>sprite</item>
    </strings>

    <lists>
        <item rlist='rlist'>status</item>
    </lists>
    
</definitions>
<scripts>
    
    <tick>
        <item>TARGET CHANGE ACT [TARGET STAT SPD * time]</item>
    </tick>
    
    <init>
        <item>hero MOVE travel (0,0)</item>
        <item>goal MOVE travel (7,7)</item>
        <item>treasure MOVE travel [DICE 6 , DICE 6]</item>
        <item>recruiter CHANGE ACT 4</item>
        <item>recruiter CAST recruit</item>
        <item>recruiter CAST boss_recruit</item>
    </init>

    <finish>
        <item>recruiter CHANGE LVL 1</item>
        <item>recruiter CHANGE ACT [recruiter STAT LVL]</item>
        <item>ALL mob CAST KO</item>
    </finish>
    
</scripts>

<map>
    <dim>
        <x>8</x>
        <y>8</y>
    </dim>
</map>

<entities>

<!-- Status and chaincasts -->

    <entity>
        <ID>recruit</ID>
        <effect>
            <item>baddie RECRUIT [DICE 6 , DICE 6]</item>
            <item>recruiter CHANGE ACT -1</item>
            <item>recruiter CAST recruit DELAY 0</item>
        </effect>
        <require>
            <item>recruiter STAT ACT &gt;=1</item>
        </require>
    </entity>

    <!-- Moves -->
    
    <entity>
        <ID>travel</ID>
        <require>
            <item>CASTER STAT ACT &gt;=1</item>
            <item>DISTANCE pinf &lt;= 1</item>
            <item>[TARGET == CASTER] or [TARGET == empty] or [TARGET == False]</item>
        </require>
        <effect>
            <item>CASTER CHANGE ACT -1</item>
            <item>TRAVEL</item>
        </effect>
    </entity>
    
    <entity>
        <ID>KO</ID>
        
        <require>
            <item>ONBOARD</item>
        </require>
        
        <effect>
            <item>TARGET BUMP</item>
            <item>TARGET CHANGE ACT -[TARGET STAT ACT]</item>
            <item>TARGET GETS status SELF</item>
        </effect>
        <stats>
            <SPD>-1</SPD>
        </stats>
    </entity>
    
    <entity>
        <ID>boss_recruit</ID>
        <require>
            <item>recruiter STAT LVL == 2</item>
        </require>
        <effect>
            <item>boss MOVE travel (7,7)</item>
        </effect>
    </entity>
</entities>

<units>
<!-- clonables -->
    <unit>
        <ID>mob</ID>
    </unit>
    
    <unit>
        <ID>baddie</ID>
        <sprite>I</sprite>
        <stats>
            <ACT>1</ACT>
            <SPD>1</SPD>
        </stats>
        <movelist>
            <item>travel</item>
        </movelist>
        <group>
            <item>mob</item>
        </group>
    </unit>

    <!-- off board units -->
    <unit>
        <ID>recruiter</ID>
    </unit>

    <!-- on board units -->
    
    <unit>
        <ID>hero</ID>
        <sprite>X</sprite>
        <stats>
            <ACT>1</ACT>
            <SPD>1</SPD>
        </stats>
    </unit>

    <unit>
        <ID>goal</ID>
        <sprite>E</sprite>
    </unit>
    
    <unit>
        <ID>treasure</ID>
        <sprite>T</sprite>
    </unit>
    
    <unit>
        <ID>boss</ID>
        <sprite>B</sprite>
    </unit>
                
</units>

</udebs>
