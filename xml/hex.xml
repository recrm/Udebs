<udebs>

<config>
    <hex>True</hex>
</config>

<definitions>
    <stats>
        <ACT />
    </stats>
    <strings>
        <sprite />
    </strings>
</definitions>
<map>
    <dim>
        <x>8</x>
        <y>8</y>
    </dim>
</map>

<entities>
    
    <!-- scripts -->
    
    <notempty>
        <require>NAME.$T == empty</require>
    </notempty>
    
    <init>
        <effect>
            <item>RECRUIT token (0 0)</item>
            <item>CAST (DICE.7 DICE.7) earthquake</item>
        </effect>
    </init>

    <suptravel>
        <require>
            <item>NAME.$T == empty</item>
            <item>(DISTANCE hex) &lt;= (STAT $caster ACT)</item>
        </require>
    </suptravel>
    
    <travel>
        <effect>
            <item>MOVE $caster $target</item>
        </effect>
        <require>
            <item>(DISTANCE suptravel) &lt;= (STAT $caster ACT)</item>
        </require>
        <group>
            <item>suptravel</item>
        </group>
    </travel>
    
    <ridge>
        <require>
            <item>(DISTANCE x) &lt;= 2</item>
            <item>(DISTANCE y) == 0</item>
        </require>
    </ridge>
    
    <earthquake>
        <effect>
            <item>RECRUIT earth (FILL $target ridge)</item>
        </effect>
    </earthquake>    

    <earth>
        <sprite>M</sprite>
    </earth>
    
    <token>
        <ID>token</ID>     
        <sprite>K</sprite>
        <ACT>2</ACT>
    </token>
</entities>

</udebs>
