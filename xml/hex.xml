<udebs>

<config>
    <hex>True</hex>
    <name>hex</name>
    <version>2</version>
</config>

<definitions>
    <stats>
        <ACT />
    </stats>
    <strings>
        <sprite />
    </strings>
    <lists>
        <direction />
    </lists>
</definitions>

<map type='hex'>
    <dim>
        <x>8</x>
        <y>8</y>
    </dim>
</map>

<entities>

    <!-- scripts -->
    <init>
        <effect>
            <i>CAST (DICE.7 DICE.7) earthquake</i>
            <i>token MOVE (0 0)</i>
        </effect>
    </init>

<!--    Metrics-->
    <suptravel>
        <require>$T.NAME == empty</require>
    </suptravel>

<!--    Events-->
    <click>
        <effect>
            <i>CAST $T travel</i>
            <i>CAST $T query</i>
        </effect>
    </click>

    <query>
        <effect>
            <i>token CLEAR direction</i>
            <i>token direction GETS (PATH token $target suptravel)</i>
        </effect>
    </query>

    <travel>
        <require>(DISTANCE suptravel) &lt;= ($caster STAT ACT)</require>
        <effect>$caster MOVE $target</effect>
    </travel>

    <earthquake>
        <effect>earth RECRUIT (FILL $target `(DISTANCE.y == 0) true 2)</effect>
    </earthquake>

<!--Units-->
    <earth>
        <sprite>M</sprite>
    </earth>

    <token>
        <sprite>K</sprite>
        <ACT>2</ACT>
    </token>
</entities>

</udebs>
