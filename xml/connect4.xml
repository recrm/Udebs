<udebs>

<config>
    <version>2</version>
    <logging>False</logging>
    <name>connectfour</name>
    <immutable>True</immutable>
</config>

<map>
    <dim>
        <x>5</x>
        <y>5</y>
    </dim>
</map>

<definitions>
    <stats>
        <ACT />
    </stats>
    <strings>
        <token />
        <previousaction />
        <previousloc />
    </strings>
</definitions>

<entities>
    <result immutable="False" />
    <player />

    <xPlayer immutable="False">
        <group>player</group>
        <ACT>2</ACT>
        <token>x</token>
    </xPlayer>

    <oPlayer immutable="False">
        <group>player</group>
        <ACT>1</ACT>
        <token>o</token>
    </oPlayer>

    <x />
    <o />

    <turn>
        <require>$caster.STAT.ACT &gt;= 2</require>
        <effect>
            <i>$caster ACT -= 2</i>
            <i>ALL.player ACT += 1</i>
        </effect>
    </turn>

    <placement>
        <!-- <group>turn</group> -->
        <require>
            <i>$target.NAME == empty</i>
            <i>($target.YLOC == (BOARDY)) or
               `((($target.XLOC ($target.YLOC + 1)) NAME) != empty)</i>
        </require>
        <effect>
            <i>result previousaction REPLACE $caster.NAME</i>
            <i>result previousloc REPLACE $target.LOC</i>
            <i>$caster.STAT.token RECRUIT $target</i>

        </effect>
    </placement>

</entities>
</udebs>
